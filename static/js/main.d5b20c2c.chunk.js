(this["webpackJsonpvisualization-frontend"]=this["webpackJsonpvisualization-frontend"]||[]).push([[1],{113:function(e,t,a){e.exports=a.p+"static/media/eye.bf3c357b.svg"},139:function(e,t,a){e.exports=a(237)},144:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e){e.exports=JSON.parse('{"hidden":{"hidden":true,"markedStyle":{"border":"#ffffff00","background":"#ffffff00"},"highlightStyle":{"border":"#ffffff00","background":"#ffffff00"},"shape":"box","text":"#ffffff00","defaultStyle":{"border":"#ffffff00","background":"#ffffff00"}},"preprocessing-deleted":{"hidden":false,"markedStyle":{"border":"#ee3377","background":"#ffaabb"},"highlightStyle":{"border":"#ee8866","background":"#ee8866"},"shape":"box","text":"#000000","defaultStyle":{"border":"#8cd1c9","background":"#abe0d1"}},"preprocessing":{"hidden":false,"markedStyle":{"border":"#ee3377","background":"#ffaabb"},"highlightStyle":{"border":"#ee8866","background":"#ee8866"},"shape":"box","text":"#000000","defaultStyle":{"border":"#8cd1c9","background":"#abe0d1"}},"conjecture":{"hidden":false,"markedStyle":{"border":"#ee3377","background":"#ffaabb"},"highlightStyle":{"border":"#ee8866","background":"#ee8866"},"shape":"box","text":"#000000","defaultStyle":{"border":"#009988","background":"#44bb99"}},"theory-axiom-deleted":{"hidden":false,"markedStyle":{"border":"#f8adc8","background":"#ffdde3"},"highlightStyle":{"border":"#f8cfc1","background":"#f8cfc1"},"shape":"box","text":"#999999","defaultStyle":{"border":"#b4c8dd","background":"#c8ddf1"}},"theory-axiom":{"hidden":false,"markedStyle":{"border":"#ee3377","background":"#ffaabb"},"highlightStyle":{"border":"#ee8866","background":"#ee8866"},"shape":"box","text":"#000000","defaultStyle":{"border":"#4477aa","background":"#77aadd"}},"deleted":{"hidden":false,"markedStyle":{"border":"#f8adc8","background":"#ffdde3"},"highlightStyle":{"border":"#f8cfc1","background":"#f8cfc1"},"shape":"box","text":"#999999","defaultStyle":{"border":"#f1f1f1","background":"#f8f8f8"}},"passive":{"hidden":false,"markedStyle":{"border":"#f8adc8","background":"#ffdde3"},"highlightStyle":{"border":"#f8cfc1","background":"#f8cfc1"},"shape":"box","text":"#000000","defaultStyle":{"border":"#FF3232","background":"#FF5959"}},"activated-deleted":{"hidden":false,"markedStyle":{"border":"#ee3377","background":"#ffaabb"},"highlightStyle":{"border":"#ee8866","background":"#ee8866"},"shape":"box","text":"#000000","defaultStyle":{"border":"#bbbbbb","background":"#dddddd"}},"activated":{"hidden":false,"markedStyle":{"border":"#ee3377","background":"#ffaabb"},"highlightStyle":{"border":"#ee8866","background":"#ee8866"},"shape":"box","text":"#000000","defaultStyle":{"border":"#bbbbbb","background":"#dddddd"}},"lemma":{"hidden":false,"markedStyle":{"border":"#16941c","background":"#a3f7a7"},"highlightStyle":{"border":"#16941c","background":"#a3f7a7"},"shape":"star","text":"#000000","defaultStyle":{"border":"#16941c","background":"#a3f7a7"}},"boundary-hidden":{"hidden":false,"markedStyle":{"border":"#ee3377","background":"#ffaabb"},"highlightStyle":{"border":"#ee8866","background":"#ee8866"},"shape":"box","text":"#000000","defaultStyle":{"border":"#4477aa","background":"#77aadd"}},"boundary":{"hidden":false,"markedStyle":{"border":"#ee3377","background":"#ffaabb"},"highlightStyle":{"border":"#ee8866","background":"#ee8866"},"shape":"box","text":"#000000","defaultStyle":{"border":"#4477aa","background":"#77aadd"}},"sameExprID":{"hidden":false,"markedStyle":{"border":"#ee3377","background":"#ffaabb"},"highlightStyle":{"border":"#ee8866","background":"#ee8866"},"shape":"box","text":"#000000","defaultStyle":{"border":"#4477aa","background":"#77aadd"}}}')},15:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"e",(function(){return s})),a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return l}));var r=a(111),n={"<=":">",">=":"<","!=":"=","<":">=",">":"<=","=":"!=","&&":"||","||":"&&",not:""};function s(e){return"("!==e[0]&&(e="("+e+")"),function e(t,a){var r={and:"&&",or:"||"};if(t.length<1)return"";if(t[0]in r)return e(t.splice(1),r[t[0]]);if(["!=","=","<=",">=",">","<","+","*","/"].indexOf(t[0])>=0||"-"===t[0]&&3===t.length)return"("+e(t[1],"")+" "+t[0]+" "+e(t[2],"")+")";if("select"===t[0])return t[1]+"["+t[2]+"]";if("not"===t[0])return t[1][0]in n?(t[1][0]=n[t[1][0]],e(t[1],"")):e("!"+t[1],"");if(""!==a&&1===t.length)return e(t[0],"");if(""!==a)return e(t[0],"")+" "+a+"\n"+e(t.splice(1),a);if("-"===t[0])return t[0]+t[1];if("string"===typeof t[0]&&Array.isArray(t)&&t.length>1)return t[0]+": ("+e(t[1],"")+")";return t.toString()}(Object(r.a)(e),"")}function o(e,t){if(""===t)return e;if("string"===typeof e)for(var a=t.split(" "),r=0;r<a.length;r++){var n=new RegExp("[a-zA-z0-9@$:!]+_"+r+"_n","gi");e=e.replace(n,a[r])}return e}function i(e,t){for(var a=e.split(t),r=[],n=0;n<a.length;n++)""!==a[n]&&r.push(a[n].trim());return r}function l(e){return e.match(/.*.smt2/)}},160:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){},21:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return ASTTransformer})),__webpack_require__.d(__webpack_exports__,"a",(function(){return AST}));var _home_travis_build_nhamlv_55_spacer_visualization_visualization_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(49),_home_travis_build_nhamlv_55_spacer_visualization_visualization_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(62),_uber_s_exify__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(63),_readable__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(15),_=__webpack_require__(59),NULL_IDX=-100;class ASTNode{constructor(e,t,a,r){this.nodeID=void 0,this.token=void 0,this.shouldBreak=void 0,this.shouldInBracket=void 0,this.parentID=void 0,this.children=void 0,this.transformers=[],this.startLine=void 0,this.endLine=void 0,this.startOffset=void 0,this.endOffset=void 0,this.nodeID=e,this.token=t,this.shouldBreak=0,this.shouldInBracket=1,this.parentID=a,this.children=r,this.startLine=-1,this.endLine=-1,this.startOffset=-1,this.endOffset=-1}updateRange(e){this.startLine=e.startLine,this.startOffset=e.startOffset,this.endLine=e.endLine,this.endOffset=e.endOffset}}function isOpt(e){return!Array.isArray(e)&&["+","-","*","/",">","<",">=","<=","=","and","or","not","=>","assert","declare-datatypes","forall","exists","define","select","store"].indexOf(e.token)>-1}class ASTTransformer extends Object{run(e,t,a){return"runStack"!==a.action?this[a.action](e,t,a.params,a.condition):[!1,t]}runStack(e,t){for(var a=_.cloneDeep(e),r=0;r<t.length;){var n,s=!0,o=Object(_home_travis_build_nhamlv_55_spacer_visualization_visualization_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__.a)(a.nodeList);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i.nodeID!==NULL_IDX){var l=this.run([i.nodeID],a,t[r]),c=Object(_home_travis_build_nhamlv_55_spacer_visualization_visualization_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(l,2);if(s=c[0],a=c[1],s)break}}}catch(p){o.e(p)}finally{o.f()}s||r++}return a}getCondition(e,t,a){var r=a.nodeList[t[t.length-1]],n="true";switch(e){case"move":var s=r.token;n="node.token === ".concat(s);break;case"changeBreak":var o=r.shouldBreak,i=a.nodeDepth(r);n="ast.nodeDepth(node) === ".concat(i," && node.shouldBreak === ").concat(o);break;case"changeBracket":var l=r.shouldInBracket,c=a.nodeDepth(r);n="ast.nodeDepth(node) === ".concat(c," && node.shouldInBracket === ").concat(l);break;case"squashNegation":case"replace":n="true";break;default:var p=r.token,d=a.nodeDepth(r);n='node.token === "'.concat(p,'" && ast.nodeDepth(node) === ').concat(d)}return n}move(nodes,ast,params,condition){var node=ast.nodeList[nodes[nodes.length-1]],movable=["+","*","=","and","or"],cloned_ast=_.cloneDeep(ast),dirty=!1;if(eval(condition)){var parent=cloned_ast.nodeList[node.parentID];Object(_util__WEBPACK_IMPORTED_MODULE_2__.a)("direction"in params),Object(_util__WEBPACK_IMPORTED_MODULE_2__.a)(-1!==movable.indexOf(parent.token),"The parent node doesnt support reordering.");var siblings=parent.children,nodePosition=siblings.indexOf(node.nodeID);switch(params.direction){case"l":if(nodePosition>0){var _ref=[siblings[nodePosition-1],siblings[nodePosition]];siblings[nodePosition]=_ref[0],siblings[nodePosition-1]=_ref[1],dirty=!0}break;case"r":if(nodePosition<siblings.length-1){var _ref2=[siblings[nodePosition+1],siblings[nodePosition]];siblings[nodePosition]=_ref2[0],siblings[nodePosition+1]=_ref2[1],dirty=!0}}cloned_ast.buildVis()}return[dirty,cloned_ast]}flipCmp(nodes,ast,params,condition){var node=ast.nodeList[nodes[nodes.length-1]],cloned_ast=_.cloneDeep(ast),dirty=!1;if(eval(condition)){var new_node;switch(node.token){case"=":new_node=new ASTNode(node.nodeID,"=",node.parentID,[node.children[1],node.children[0]]),dirty=!0;break;case"<":new_node=new ASTNode(node.nodeID,">",node.parentID,[node.children[1],node.children[0]]),dirty=!0;break;case">":new_node=new ASTNode(node.nodeID,"<",node.parentID,[node.children[1],node.children[0]]),dirty=!0;break;case">=":new_node=new ASTNode(node.nodeID,"<=",node.parentID,[node.children[1],node.children[0]]),dirty=!0;break;case"<=":new_node=new ASTNode(node.nodeID,">=",node.parentID,[node.children[1],node.children[0]]),dirty=!0;break;default:new_node=node}cloned_ast.nodeList[node.nodeID]=new_node,cloned_ast.buildVis()}return[dirty,cloned_ast]}toImp(nodes,ast,params,condition){if(0===nodes.length)return[!1,_.cloneDeep(ast)];var node=ast.nodeList[nodes[nodes.length-1]],cloned_ast=_.cloneDeep(ast),cloned_node=cloned_ast.nodeList[node.nodeID],dirty=!1;if(eval(condition)){var parent=cloned_ast.nodeList[cloned_node.parentID];if(!parent||"or"!==parent.token)return[!1,cloned_ast];var headChildren=new Array,tailChildren=new Array,newHead,newTail,_iterator2=Object(_home_travis_build_nhamlv_55_spacer_visualization_visualization_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__.a)(parent.children),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var cID=_step2.value;if(nodes.includes(cID)){var new_cID=cloned_ast.negateNode(cID);headChildren.push(new_cID)}else tailChildren.push(cID)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}if(headChildren.length>1){newHead=new ASTNode(cloned_ast.nodeList.length,"and",parent.nodeID,headChildren),cloned_ast.nodeList.push(newHead);var _iterator3=Object(_home_travis_build_nhamlv_55_spacer_visualization_visualization_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__.a)(headChildren),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var childID=_step3.value;cloned_ast.nodeList[childID].parentID=newHead.nodeID}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}}else newHead=cloned_ast.nodeList[headChildren[0]];if(tailChildren.length>1){newTail=new ASTNode(cloned_ast.nodeList.length,"or",parent.nodeID,tailChildren),cloned_ast.nodeList.push(newTail);var _iterator4=Object(_home_travis_build_nhamlv_55_spacer_visualization_visualization_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__.a)(tailChildren),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var childID=_step4.value;cloned_ast.nodeList[childID].parentID=newTail.nodeID}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}}else newTail=cloned_ast.nodeList[tailChildren[0]];parent.token="=>",parent.children=[newHead.nodeID,newTail.nodeID],cloned_ast.buildVis(),dirty=!0}return[dirty,cloned_ast]}replace(nodes,ast,params,condition){var node=ast.nodeList[_.last(nodes)],cloned_ast=_.cloneDeep(ast),dirty=!1,source=params.source;if(eval(condition)){params.regex&&(source=new RegExp(params.source));var _iterator5=Object(_home_travis_build_nhamlv_55_spacer_visualization_visualization_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__.a)(cloned_ast.nodeList),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var cloned_node=_step5.value,old_token=cloned_node.token;cloned_node.token=old_token.replace(source,params.target),cloned_node.token!==old_token&&(dirty=!0)}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}dirty&&cloned_ast.buildVis()}return[dirty,cloned_ast]}changeBreak(nodes,ast,params,condition){var node=ast.nodeList[_.last(nodes)],cloned_ast=_.cloneDeep(ast);return eval(condition)?(cloned_ast.nodeList[node.nodeID].shouldBreak^=1,cloned_ast.buildVis(),[!0,cloned_ast]):[!1,cloned_ast]}changeBracket(nodes,ast,params,condition){var node=ast.nodeList[_.last(nodes)],cloned_ast=_.cloneDeep(ast);return eval(condition)?(cloned_ast.nodeList[node.nodeID].shouldInBracket^=1,cloned_ast.buildVis(),[!0,cloned_ast]):[!1,cloned_ast]}}class AST{constructor(e){this.nodeList=new Array,this.visNodes=new Array,this.visEdges=new Array,this.null_node=new ASTNode(NULL_IDX,"null-node",NULL_IDX,[]),this.lstToAST(-1,Object(_uber_s_exify__WEBPACK_IMPORTED_MODULE_3__.b)(e)),this.buildVis()}nodeDepth(e){return-1===e.parentID?0:this.nodeDepth(this.nodeList[e.parentID])+1}negateNode(e){var t=this.getNode(e);if("not"===t.token){var a=this.getNode(t.children[0]);this.nodeList[e]=new ASTNode(t.nodeID,a.token,t.parentID,a.children);var r,n=Object(_home_travis_build_nhamlv_55_spacer_visualization_visualization_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__.a)(a.children);try{for(n.s();!(r=n.n()).done;){var s=r.value;this.getNode(s).parentID=t.nodeID}}catch(i){n.e(i)}finally{n.f()}return this.deleteNode(a.nodeID),t.nodeID}if(t.token in _readable__WEBPACK_IMPORTED_MODULE_4__.c)return this.nodeList[e]=new ASTNode(t.nodeID,_readable__WEBPACK_IMPORTED_MODULE_4__.c[t.token],t.parentID,t.children),t.nodeID;var o=new ASTNode(this.nodeList.length,"not",t.parentID,[e]);return console.log("new node",o),t.parentID=o.nodeID,this.nodeList.push(o),o.nodeID}getNode(e){return this.nodeList[e]}deleteNode(e){this.nodeList[e]=this.null_node}findNode(e,t){var a,r=Object(_home_travis_build_nhamlv_55_spacer_visualization_visualization_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__.a)(this.nodeList);try{for(r.s();!(a=r.n()).done;){var n=a.value;if(n.startLine<=e&&n.endLine>=e&&n.startOffset<=t&&n.endOffset>=t)return n}}catch(s){r.e(s)}finally{r.f()}return null}lstToAST(e,t){var a=this.nodeList.length;if(Object(_uber_s_exify__WEBPACK_IMPORTED_MODULE_3__.a)(t)){var r=new ASTNode(a,t.token,e,[]);return r.updateRange(t),this.nodeList.push(r),a}if(isOpt(t[0])){var n=new ASTNode(a,t[0].token,e,[]);n.updateRange(t[0]),this.nodeList.push(n);for(var s=1;s<t.length;s++)n.children.push(this.lstToAST(a,t[s]));return a}var o=new ASTNode(a,t[0].token,e,[]);o.updateRange(t[0]),this.nodeList.push(o);for(s=0;s<t.length;s++)o.children.push(this.lstToAST(a,t[s]));return a}buildVis(){this.visNodes=[],this.visEdges=[];var e,t=Object(_home_travis_build_nhamlv_55_spacer_visualization_visualization_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__.a)(this.nodeList);try{for(t.s();!(e=t.n()).done;){var a=e.value;if(a.nodeID!==NULL_IDX){var r=a.token;a.shouldInBracket&&(r="("+r+")"),this.visNodes.push({id:a.nodeID,label:r+(a.shouldBreak?"\u21b5":""),shape:"box",size:20});var n,s=Object(_home_travis_build_nhamlv_55_spacer_visualization_visualization_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__.a)(a.children);try{for(s.s();!(n=s.n()).done;){var o=n.value;this.visEdges.push({id:this.visEdges.length,from:a.nodeID,to:o})}}catch(i){s.e(i)}finally{s.f()}}}}catch(i){t.e(i)}finally{t.f()}}toString(e,t){return this.toHTML(e,t)}toHTML(e,t,a=!0){var r;if(0===t.children.length)r=t.token;else{var n=new Array;"list"!==t.token&&n.push(t.token);var s,o=Object(_home_travis_build_nhamlv_55_spacer_visualization_visualization_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_1__.a)(t.children);try{for(o.s();!(s=o.n()).done;){var i=s.value;n.push(this.toHTML(e,this.nodeList[i]))}}catch(l){o.e(l)}finally{o.f()}r=1!==n.length&&t.shouldInBracket?"("+n.join(" ")+")":n.join(" ")}return a&&e===t.nodeID&&(r='<span class="highlighted">'+r+"</span>"),t.shouldBreak&&(r="\n"+"    ".repeat(this.nodeDepth(t))+r),r}}},236:function(e,t,a){},237:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(61),s=(a(144),a(33)),o=a(6),i=a(2),l=a.n(i),c=a(5),p=(a(146),a(37));class d extends r.Component{constructor(...e){super(...e),this.slider=r.createRef()}render(){var e=this.props,t=e.historyLength,a=e.currentTime,n=e.onCurrentTimeChange;return console.log("historyLength",t),r.createElement("section",{className:"component-slider"},r.createElement("button",{disabled:!this.props.enabled||a<=0,onClick:()=>n(a-1)},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon"},r.createElement("use",{xlinkHref:"".concat(p,"#history-back")}))),r.createElement("section",{className:"wrapper"},r.createElement("input",{ref:this.slider,type:"range",min:0,max:t,value:a,disabled:!this.props.enabled,onChange:()=>n(this.getSliderValue())})),r.createElement("button",{disabled:!this.props.enabled||a>=t,onClick:()=>n(a+1)},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon"},r.createElement("use",{xlinkHref:"".concat(p,"#history-forward")}))))}getSliderValue(){return this.slider.current?parseInt(this.slider.current.value,10):0}}var h=a(20);a(147);class m extends Error{constructor(e){super(e),this.name="SatVisAssertionError"}}function u(e,t=""){if(!e)throw new m("Assertion failed: "+(t||""))}var _=a(3),f=a(148),g=["#e6194B","#f58231","#3cb44b","#42d4f4","#000075","#469990","#911eb4","#f032e6","#fabebe","#800000"];function b(e,t){var a=new Map;for(var r in e){var n=e[r];a[n.exprID]=n.expr}var s={};for(var o in e){var i=e[o];if("EType.ADD_LEM"===i.event_type){var l=i.exprID,c=i.level,p=i.pobID;p in s||(s[p]=new Array);var d,h=!1,m=Object(_.a)(s[p]);try{for(m.s();!(d=m.n()).done;){var u=d.value;if(u[0]===l){h=!0;var f=u[1];(c>u[2]||"oo"===c)&&(u[2]=c),c<f&&(u[1]=c);break}}}catch(g){m.e(g)}finally{m.f()}h||s[i.pobID].push([l,c,c])}}return s}function v(e,t){var a=new Map;for(var r in e){var n=e[r],s={raw:n.expr.raw,readable:n.expr.readable,editedRaw:n.expr.raw,editedReadable:n.expr.readable};a[n.exprID]=s}return a}function E(e,t,a,r,n=-1){var s=f[t],o=a.includes(e.nodeID),i={border:o?s.markedStyle.border:s.defaultStyle.border,background:o?s.markedStyle.background:s.defaultStyle.background,highlight:{border:s.highlightStyle.border,background:s.highlightStyle.background}};return"lemma"===t&&-1!==n&&(i={border:g[n],background:g[n],highlight:{border:g[n],background:g[n]}}),{id:e.nodeID,shape:r>0?r>1?"hexagon":"star":s.shape,fixed:!0,color:i}}class x extends r.Component{constructor(...e){super(...e),this.state={metaPressed:!1},this.network=null,this.networkNodes=new h.DataSet([]),this.networkEdges=new h.DataSet([]),this.graphContainer=r.createRef(),this.boundKeyupHandler=this.keyupHandler.bind(this)}componentDidMount(){this.generateNetwork(),this.updateNetwork(!1,this.props.layout),this.network.fit(),window.addEventListener("keyup",this.boundKeyupHandler,!1)}componentWillUnmount(){window.removeEventListener("keyup",this.boundKeyupHandler,!1)}componentDidUpdate(e){this.updateNetwork(!1,this.props.layout)}render(){return r.createElement("section",{className:"component-graph",ref:this.graphContainer},r.createElement("canvas",null))}generateNetwork(){var e=this;console.log("I am Graph. I receive:",this.props),u(this.graphContainer.current),u(!this.network),this.network=new h.Network(this.graphContainer.current,{nodes:this.networkNodes,edges:this.networkEdges},{physics:!1,interaction:{multiselect:!1},layout:{hierarchical:{direction:"UD",sortMethod:"directed"}}}),this.network.on("click",function(){var t=Object(c.a)(l.a.mark((function t(a){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.nodes.length>0?(u(1===a.nodes.length),r=a.nodes[0],console.log("clickEvent.nodes",a.nodes),console.log("clickedNodeId",e.props.tree[r]),e.props.onNodeSelectionChange(a.nodes)):e.props.onNodeSelectionChange([]);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}updateNetwork(e,t){if("SatVis"===t)this.visLayout(this.props.tree);else if("PobVis"===t){var a=function(e){var t=JSON.parse(JSON.stringify(e));for(var a in t){var r=t[a];if("EType.EXP_POB"===r.event_type){var n,s=t[r.parent],o=s.children,i=!1,l=void 0,c=Object(_.a)(o);try{for(c.s();!(n=c.n()).done;){var p=t[n.value];if(p.nodeID!==r.nodeID&&p.exprID===r.exprID){i=!0,l=p;break}}}catch(v){c.e(v)}finally{c.f()}if(i){r.to_be_vis=!1;var d,h=Object(_.a)(r.children);try{for(h.s();!(d=h.n()).done;){var m=d.value;t[m].parent=l.nodeID,l.children.push(m)}}catch(v){h.e(v)}finally{h.f()}var u,f=new Array,g=Object(_.a)(o);try{for(g.s();!(u=g.n()).done;){var b=u.value;b!==r.nodeID&&f.push(b)}}catch(v){g.e(v)}finally{g.f()}s.children=f}}else r.to_be_vis=!1}return t}(this.props.tree);this.visLayout(a)}}visLayout(e){var t=this,a=this.props.nodeSelection.length>0,r=Number.MIN_SAFE_INTEGER,n=[];a&&(r=e[this.props.nodeSelection[0]].exprID,n=r in this.props.PobLemmasMap?this.props.PobLemmasMap[r].map(e=>({id:e[0],start:e[1],end:e[2]})):[]);var s=new Array,o=new Array,i=0,l=function(a){var l=e[a];if(!l.to_be_vis)return"continue";var c=void 0,p=(l.exprID in t.props.PobLemmasMap?t.props.PobLemmasMap[l.exprID].filter(e=>"oo"===e[2]):[]).filter(e=>e[1]===l.level||"oo"===e[1]).length;c=l.exprID===r?E(l,"sameExprID",t.props.nodeSelection,p):n.length>0&&n.filter(e=>e.id===l.exprID).length>0?E(l,"lemma",t.props.nodeSelection,p,n.findIndex(e=>e.id===l.exprID)%10):l.nodeID>t.props.currentTime?E(l,"activated",t.props.nodeSelection,p):E(l,"passive",t.props.nodeSelection,p),s.push(c);var d=function(e,t,a,r){return{id:e,arrows:"to",color:{color:"#dddddd",highlight:"#f8cfc1"},from:t,to:a,smooth:!1,hidden:r}}(i,l.parent,l.nodeID,!1);o.push(d),i++};for(var c in e)l(c);this.networkNodes.clear(),this.networkNodes.add(s),this.networkEdges.clear(),this.networkEdges.add(o)}keyupHandler(e){if(1===this.props.nodeSelection.length){var t=function(e,t,a){u(a),u("body"in a);var r=a.body.nodes[e],n=r.id,s=Number.MAX_SAFE_INTEGER;if("ArrowLeft"===t)for(var o in a.body.nodes){var i=a.body.nodes[o],l=r.x-i.x;i.y===r.y&&(l>0&&l<s&&(n=i.id,s=l))}else if("ArrowRight"===t)for(var c in a.body.nodes){var p=a.body.nodes[c],d=p.x-r.x;p.y===r.y&&(d>0&&d<s&&(n=p.id,s=d))}else if("ArrowDown"===t&&r.edges.length>=2)n=r.edges.filter(e=>e.fromId===r.id)[0].toId;else if("ArrowUp"===t&&r.edges.length>=1){var h=r.edges.filter(e=>e.toId===r.id);h.length>0&&(n=h[0].fromId)}return n}(this.props.nodeSelection[0],e.key,this.network);this.props.onNodeSelectionChange([t])}}}var S=a(32),y=a.n(S);y.a.setAppElement("#root");class k extends r.Component{componentDidMount(){}render(){return r.createElement("main",null,r.createElement("input",{type:"text",value:this.props.runCmd,readOnly:!0}),r.createElement(x,{tree:this.props.tree,onNodeSelectionChange:this.props.onNodeSelectionChange,nodeSelection:this.props.nodeSelection,currentTime:this.props.currentTime,layout:this.props.layout,PobLemmasMap:this.props.PobLemmasMap}),r.createElement(d,{historyLength:this.props.historyLength,currentTime:this.props.currentTime,onCurrentTimeChange:this.props.onCurrentTimeChange,enabled:!0}))}}a(57),a(160),a(58);var C=a(110);var w=a(15),O=a(49),D=a(21);class M extends r.Component{constructor(...e){super(...e),this.state={source:"",target:"",regex:!1}}handleSourceChange(e){this.setState({source:e.target.value})}handleTargetChange(e){this.setState({target:e.target.value})}handleRegexChange(e){this.setState({regex:e.target.checked})}handleKeyUp(e){e.stopPropagation()}render(){return r.createElement("div",{onKeyUp:this.handleKeyUp},"Replace: ",r.createElement("input",{type:"text",defaultValue:"",onChange:this.handleSourceChange.bind(this)})," with: ",r.createElement("input",{type:"text",defaultValue:"",onChange:this.handleTargetChange.bind(this)}),"\tRegex?",r.createElement("input",{type:"checkbox",defaultChecked:!1,onChange:this.handleRegexChange.bind(this)}),r.createElement("button",{onClick:this.props.onApply.bind(this,"replace",{source:this.state.source,target:this.state.target,regex:this.state.regex})},"Replace"))}}var N=M,A=a(59);class I extends r.Component{constructor(...e){super(...e),this.state={selectedNodeIDs:[-1],stringRep:"",status:"",possibleTransformations:[],transformationSelected:""},this.network=null,this.networkNodes=new h.DataSet([]),this.networkEdges=new h.DataSet([]),this.graphContainer=r.createRef(),this.astStack=new Array,this.transformerStack=new Array,this.transformer=new D.b,this.localSelectedNodeIDs=[-1]}componentDidMount(){this.props.isModal&&this.props.saveExprs(),this.generateNetwork(),"()"!==this.props.input&&(this.astStack=[new D.a(this.props.input)],this.redrawAST())}redrawAST(){if(null!=this.astStack[this.astStack.length-1]){var e=this.astStack[this.astStack.length-1];console.log(e),console.log("visNodes",e.visNodes),console.log("visEdges",e.visEdges),this.networkEdges.clear(),this.networkEdges.add(e.visEdges),this.networkNodes.clear(),this.networkNodes.add(e.visNodes),this.network.redraw(),console.log(e.toHTML(A.last(this.state.selectedNodeIDs),e.nodeList[0])),this.setState({stringRep:e.toHTML(A.last(this.state.selectedNodeIDs),e.nodeList[0])})}}componentDidUpdate(e){e.input!==this.props.input&&(this.astStack=[new D.a(this.props.input)],this.transformerStack=[],this.redrawAST())}generateNetwork(){var e=this;console.log("I am Graph. I receive:",this.props),u(this.graphContainer.current),u(!this.network),this.network=new h.Network(this.graphContainer.current,{nodes:this.networkNodes,edges:this.networkEdges},{physics:!1,interaction:{multiselect:!0},layout:{hierarchical:{sortMethod:"directed"}}}),this.network.on("click",function(){var t=Object(c.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.nodes.length>0?(console.log("clickEvent.nodes",a.nodes),e.localSelectedNodeIDs=a.nodes):e.setState({selectedNodeIDs:[]});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}updateConditionInputEvent(e,t){this.transformerStack[t].condition=e.target.value}updateParamsInputEvent(e,t){this.transformerStack[t].params=JSON.parse(e.target.value)}displayTransformers(){return this.transformerStack.map((e,t)=>r.createElement("div",{key:t,className:"transformer-wrapper"},"If ",r.createElement("input",{style:{display:"inline-block",width:"20rem"},ref:"condition-${index}",type:"text",defaultValue:e.condition,onChange:e=>this.updateConditionInputEvent(e,t)}),r.createElement("br",null),"then run __".concat(e.action,"__ with params:"),r.createElement("br",null),r.createElement("input",{ref:"params-${index}",type:"text",defaultValue:JSON.stringify(e.params),style:{width:"100%"},onChange:e=>this.updateParamsInputEvent(e,t)})))}applyStack(){var e=new D.a(this.props.input);try{this.astStack.push(this.transformer.runStack(e,this.transformerStack)),this.transformerStack.push({action:"runStack",params:"",condition:""}),this.redrawAST()}catch(t){this.setState({status:"Error:"+t.message})}}applyLocal(e,t){var a=this.astStack[this.astStack.length-1],r=this.localSelectedNodeIDs;console.log(t);var n={action:e,params:t,condition:"true"};try{var s=this.transformer.run(r,a,n),o=Object(O.a)(s,2),i=o[0],l=o[1];i&&(this.astStack.push(l),n.condition=this.transformer.getCondition(e,r,a),this.transformerStack.push(n),this.redrawAST())}catch(c){this.setState({status:"Error:"+c.message})}}undo(){this.astStack.length>1&&(this.astStack.pop(),this.transformerStack.pop(),this.redrawAST())}learnTransformationFromInputOutput(){var e=this;return Object(c.a)(l.a.mark((function t(){var a,r,n,s,o,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.astStack[0],r=e.astStack[e.astStack.length-1],console.log("transformer stack",e.transformerStack),"replace"===(n={inputOutputExamples:[{input:a.toString(-1,a.nodeList[0]),output:r.toString(-1,r.nodeList[0]),aux:[""]}],exp_path:e.props.name,type:e.transformerStack[0].action}).type&&(n.params=e.transformerStack.map(e=>e.params)),console.log("payload",n),t.next=8,fetch("http://localhost:5000/spacer/learn_transformation",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 8:if(200!==(s=t.sent).status){t.next=18;break}return t.next=12,s.json();case 12:o=t.sent,i=o.response,console.log(i),e.setState({possibleTransformations:i}),t.next=19;break;case 18:e.setState({possibleTransformations:[]});case 19:case"end":return t.stop()}}),t)})))()}updateTransformationSelected(e){this.setState({transformationSelected:e.target.value})}render(){console.log("I'm TreeEditor. I got",this.props.input),console.log("I'm TreeEditor. My possibleTs:",this.state.possibleTransformations);this.displayTransformers();var e=this.state.possibleTransformations.map((e,t)=>r.createElement("div",{key:t},r.createElement("input",{type:"radio",name:"transformation",value:e.xmlAst,onClick:this.updateTransformationSelected.bind(this)}),e.humanReadableAst));return r.createElement("div",{className:"tree-editor"},r.createElement("div",{className:"editor-options-card",id:"graph-container"},r.createElement("h4",null,this.state.status),r.createElement("div",{className:"editor-menu"},"Hint: Long click to select multiple nodes",r.createElement("br",null),r.createElement("button",{onClick:this.applyLocal.bind(this,"flipCmp",{})},"Flip Cmp"),r.createElement("button",{onClick:this.applyLocal.bind(this,"toImp",{})},"To Imp"),r.createElement("button",{onClick:this.applyLocal.bind(this,"move",{direction:"l"})},"Move Left"),r.createElement("button",{onClick:this.applyLocal.bind(this,"move",{direction:"r"})},"Move Right"),r.createElement("button",{onClick:this.applyLocal.bind(this,"changeBreak",{})},"\\n?"),r.createElement("button",{onClick:this.applyLocal.bind(this,"changeBracket",{})},"()?"),r.createElement("br",null),r.createElement(N,{onApply:this.applyLocal.bind(this)}),r.createElement("br",null),r.createElement("button",{onClick:this.undo.bind(this)},"Undo"),r.createElement("pre",{className:"editor-string-rep",dangerouslySetInnerHTML:{__html:this.state.stringRep}})),r.createElement("div",{className:"editor-component-graph",ref:this.graphContainer},r.createElement("canvas",null))),r.createElement("div",{className:"editor-options-card",id:"transformer-container"},r.createElement("button",{onClick:this.applyStack.bind(this)},"Apply for the current AST"),r.createElement("button",{onClick:this.props.onBlast.bind(this,this.transformerStack)},"Blast"),r.createElement("button",{onClick:this.learnTransformationFromInputOutput.bind(this)},"Learn"),r.createElement("h3",null,"Possible Transformations"),e,this.props.isModal?r.createElement("button",{onClick:this.props.onTransformExprs.bind(this,this.state.transformationSelected)},"Apply Everywhere"):""))}}var L=I,P=a(37);class T extends r.Component{constructor(...e){super(...e),this.isChromeOrFirefox=!0,this.state={selectedInput:"()"}}openEditor(e){console.log("click Apply"),console.log(e),this.setState({selectedInput:e})}getFormulas(e){return e.split(/\n\s*\n/)}blast(e){}render(){return this.isChromeOrFirefox?r.createElement("section",{className:"formula-editor-modal"},r.createElement("section",{className:"editor"},r.createElement("div",{id:"editor-wrapper"},r.createElement("h2",null,"Original"),this.props.inputList.map((e,t)=>r.createElement("button",{key:t,onClick:this.openEditor.bind(this,e),className:"formula-button"},r.createElement("pre",null,e)))),r.createElement(L,{name:this.props.name,input:this.state.selectedInput,onBlast:this.blast.bind(this),isModal:!0,onTransformExprs:this.props.onTransformExprs.bind(this),saveExprs:this.props.saveExprs.bind(this)}))):r.createElement("section",{className:"unsupported-message"},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon"},r.createElement("use",{xlinkHref:"".concat(P,"#alert-triangle")})),r.createElement("span",null,"Your current browser is not supported. Please use Chrome or Firefox!"))}}class R extends r.Component{constructor(e){super(e),this.keep=!1,this.type_map={EQUALS:"= ",PLUS:"+ ",TIMES:"* ",LT:"< ",LE:"<= ",GT:"> ",GE:">= ",SYMBOL:"","0_REAL_CONSTANT":""},this.state={learningFlag:!1,learningErrorFlag:!1,transformationFlag:!1,transformationErrorFlag:!1,possibleTransformations:[],transformationSelected:"",editorIsOpen:!1,editorTextInputList:[]}}node_to_string(e,t){var a="",r=t?"\n":"";if(Array.isArray(e.content)){var n,s=Object(_.a)(e.content);try{for(s.s();!(n=s.n()).done;){var o=n.value;a+=this.node_to_string(o,!1)+r}}catch(i){s.e(i)}finally{s.f()}}else a+=e.content;return e.type in this.type_map?""===this.type_map[e.type]?" "+a:"("+this.type_map[e.type]+a+")":"("+e.type+r+a+")"}getLemmaExprs(e){var t=new Array;if("EType.EXP_POB"===e.event_type&&e.exprID in this.props.PobLemmasMap){var a,r=this.props.PobLemmasMap[e.exprID],n=Object(_.a)(r);try{for(n.s();!(a=n.n()).done;){var s=a.value,o=this.props.ExprMap[s[0]];t.push(o.raw)}}catch(i){n.e(i)}finally{n.f()}}return t}getLemmaList(e){var t=this,a=[];if("EType.EXP_POB"===e.event_type&&(a.push(r.createElement("h2",{key:"lemma-title"}," Lemmas summarization ")),e.exprID in this.props.PobLemmasMap)){var n,s=this.props.PobLemmasMap[e.exprID],o=Object(_.a)(s);try{var i=function(){var e=n.value,o=s.indexOf(e),i={color:g[o]};a.push(r.createElement("h3",{style:i,key:"lemma-header-"+e[0]},"ExprID: ",e[0],", From: ",e[1]," to ",e[2]));var l=t.props.ExprMap[e[0]].editedReadable;if("string"===typeof l){if(Object.keys(t.props.relatedExprMap).length>0)for(var c=Object.keys(t.props.relatedExprMap),p=0;p<c.length;p++){var d=t.props.relatedExprMap[c[p]];if(l===d.editedReadable){l=d.editedReadable;break}}for(var h=Object(w.a)(l,"\n"),m=-1,u=0;u<h.length;u++)if(h[u].includes("=>")){m=u;break}h.forEach((t,n)=>{var s={color:"black"};-1!==m&&n>m&&(s.color="darkblue"),a.push(r.createElement("pre",{style:s,key:"lemma-expr-"+e[0]+n},t))})}else a.push(r.createElement("pre",null,l))};for(o.s();!(n=o.n()).done;)i()}catch(l){o.e(l)}finally{o.f()}}return a}transformExprsFromText(e){var t=this;return Object(c.a)(l.a.mark((function a(){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.setState({transformationSelected:e},()=>t.transformExprs());case 1:case"end":return a.stop()}}),a)})))()}transformExprs(){var e=this;return Object(c.a)(l.a.mark((function t(){var a,r,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({transformationFlag:!1,transformationErrorFlag:!1}),t.next=3,fetch("http://localhost:5000/spacer/apply_transformation",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({exp_path:e.props.name,selectedProgram:e.state.transformationSelected})});case 3:if(200!==(a=t.sent).status){t.next=16;break}return e.closeModal(),t.next=8,a.json();case 8:r=t.sent,n=r.response,Object.keys(n).forEach(t=>{e.props.ExprMap[t].editedRaw=n[t].raw,e.props.ExprMap[t].editedReadable=n[t].readable}),e.props.saveExprs(),e.setState({transformationFlag:!0}),e.forceUpdate(),t.next=17;break;case 16:e.setState({transformationErrorFlag:!0});case 17:case"end":return t.stop()}}),t)})))()}openModal(){var e=this.getLemmaExprs(this.props.nodes[0]);this.setState({editorIsOpen:!0,editorTextInputList:e})}afterOpenModal(){}closeModal(){this.setState({editorIsOpen:!1})}render(){var e,t;return this.props.nodes.length>1&&(e=this.props.nodes[0],t=this.props.nodes[1]),r.createElement("div",null,r.createElement(y.a,{isOpen:this.state.editorIsOpen,onRequestClose:this.closeModal.bind(this),overlayClassName:"editor-modal",contentLabel:"Example Modal"},r.createElement("h2",null,"Editor"),r.createElement("button",{onClick:this.closeModal.bind(this)},"Close"),r.createElement(T,{name:this.props.name,inputList:this.state.editorTextInputList,onTransformExprs:this.transformExprsFromText.bind(this),saveExprs:this.props.saveExprs.bind(this)})),this.props.nodes.length>1&&r.createElement("section",{className:"component-node-details details-diff"},r.createElement("article",null,r.createElement("h2",null,"Diff (Node: ",r.createElement("strong",null,e.nodeID)," vs. Node: ",r.createElement("strong",null,t.nodeID),")"),function(e,t){for(var a=[],r=e.split("\n"),n=t.split("\n"),s=0;s<Math.min(r.length,n.length);s++){var o=C.diffWords(r[s],n[s]);o.push({added:!1,removed:!1,value:"\n"}),a=a.concat(o),console.log(a)}return console.log(a),a}(e.expr.readable,t.expr.readable).map((e,t)=>r.createElement("span",{key:t,className:e.added?"green":e.removed?"red":"black"},e.value)))),this.props.nodes.map((t,a)=>{var n="type:"+t.event_type+" level:"+t.level,s=this.getLemmaList(t),o=t.expr.readable;"SMT"===this.props.expr_layout||t.ast_json&&(o+=this.node_to_string(t.ast_json,!0));var i="component-node-details details-top-"+a,l="component-node-details details-bottom-"+a;return r.createElement("div",{key:a},r.createElement("section",{className:i},r.createElement("article",null,r.createElement("h2",null,"Node ",r.createElement("strong",null,t.nodeID,", "),"Expr ",r.createElement("strong",null," ",t.exprID," "),", Parent ",r.createElement("strong",null," ",t.pobID,"  ")),r.createElement("h3",null,n),r.createElement("pre",{className:1===this.props.nodes.length?"black":t===e?"red":"green"},o))),s.length>0&&r.createElement("section",{className:l},r.createElement("article",null,s,this.props.solvingCompleted?r.createElement("button",{onClick:this.openModal.bind(this)},"Open Editor"):"")))}))}}class B extends r.Component{constructor(e){super(e),this.state={matchingFiles:[],exps:[],selected:""}}componentDidMount(){var e=this;return Object(c.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchExps();case 2:return e.getMatchingFiles(),t.next=5,e.getMatchingExprMap();case 5:case"end":return t.stop()}}),t)})))()}getMatchingFiles(){var e=this.state.exps.filter(e=>e.name.includes(Object(w.b)(this.props.name))&&e.name!==this.props.name);e.length>0&&this.setState({matchingFiles:e,selected:e[0].name})}getMatchingExprMap(){var e=this;return Object(c.a)(l.a.mark((function t(){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:5000/spacer/get_exprs",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({exp_path:e.state.selected})});case 2:return a=t.sent,t.prev=3,t.next=6,a.json();case 6:r=t.sent,e.props.updateRelatedExprMap(JSON.parse(r.expr_map)),t.next=15;break;case 10:if(t.prev=10,t.t0=t.catch(3),"SatVisAssertionError"!==t.t0.name){t.next=14;break}throw t.t0;case 14:e.setState({exps:[]});case 15:case"end":return t.stop()}}),t,null,[[3,10]])})))()}fetchExps(){var e=this;return Object(c.a)(l.a.mark((function t(){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:5000/spacer/fetch_exps",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:""});case 2:return a=t.sent,t.prev=3,t.next=6,a.json();case 6:r=t.sent,e.setState({exps:r.exps_list}),t.next=15;break;case 10:if(t.prev=10,t.t0=t.catch(3),"SatVisAssertionError"!==t.t0.name){t.next=14;break}throw t.t0;case 14:e.setState({exps:[]});case 15:case"end":return t.stop()}}),t,null,[[3,10]])})))()}updateSelected(e){this.setState({selected:e.target.value})}render(){return r.createElement("section",{className:"component-node-details details-top-right"},r.createElement("select",{id:"exprs",onChange:this.updateSelected.bind(this)},this.state.matchingFiles.length>0&&this.state.matchingFiles.map((e,t)=>r.createElement("option",{key:t,value:e.name},e.name))),r.createElement("button",{onClick:this.getMatchingExprMap.bind(this)},"Get Expr Map"))}}var F=B,j=a(37);class U extends r.Component{constructor(e){super(e),this.state={relatedExprMap:[]}}createButton(e,t,a){return r.createElement("button",{title:e,onClick:t},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon big"},r.createElement("use",{xlinkHref:"".concat(j,"#").concat(a)})))}getNodeDetails(){if(this.props.nodeSelection.length>=1&&null!=this.props.tree){var e,t=[],a=Object(_.a)(this.props.nodeSelection);try{for(a.s();!(e=a.n()).done;){var n=e.value;t.push(this.props.tree[n])}}catch(s){a.e(s)}finally{a.f()}return r.createElement(R,{nodes:t,name:this.props.name,PobLemmasMap:this.props.PobLemmasMap,ExprMap:this.props.ExprMap,layout:this.props.layout,expr_layout:this.props.expr_layout,saveExprs:this.props.saveExprs,relatedExprMap:this.state.relatedExprMap,solvingCompleted:this.props.solvingCompleted})}return r.createElement("section",{className:"component-node-details overview"},r.createElement("small",{id:"nodeInfo"}," ",r.createElement("strong",null,"".concat(this.props.nodeSelection.length," nodes")," ")," selected"))}updateRelatedExprMap(e){this.setState({relatedExprMap:e})}render(){return console.log(this.props.mode),r.createElement("aside",null,r.createElement("article",null,this.props.messages_q.map((e,t)=>r.createElement("section",{key:t,className:"component-node-menu"},e)),r.createElement("section",{className:"component-node-menu"},this.createButton("Poke",this.props.onPoke,"graph-undo"),this.createButton("Star",this.props.onOpenStarModal,"star"),this.createButton("SatVis",this.props.SatVisLayout,"node-parents"),this.createButton("PobVis",this.props.PobVisLayout,"node-children"),this.createButton("MultiSelect",this.props.MultiSelectMode,"history-forward"),r.createElement("button",{title:"SMT",onClick:this.props.SMTLayout},r.createElement("svg",{viewBox:"0 0 30 30",className:"icon big"},r.createElement("text",{x:"50%",alignmentBaseline:"middle",textAnchor:"middle",y:"50%",dominantBaseline:"middle",fontWeight:"light",stroke:"none",fill:"black",fontFamily:"monospace"},"Raw"))),r.createElement("button",{title:"JSON",onClick:this.props.JSONLayout},r.createElement("svg",{viewBox:"0 0 35 35",className:"icon big"},r.createElement("text",{x:"50%",alignmentBaseline:"middle",textAnchor:"middle",y:"50%",dominantBaseline:"middle",fontWeight:"light",stroke:"none",fill:"black",fontFamily:"monospace"},"Sort"))))),this.getNodeDetails(),r.createElement(F,{name:this.props.name,updateRelatedExprMap:this.updateRelatedExprMap.bind(this)}))}}var V=U;a(162);class H extends r.Component{constructor(e){super(e),this.state={transformationFlag:!1,transformationErrorFlag:!1,transformationSelected:"",isFetching:!1,progs:[]}}componentDidMount(){var e=this;return Object(c.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchProgs();case 2:case"end":return t.stop()}}),t)})))()}render(){return r.createElement("div",null,this.state.progs.map((e,t)=>r.createElement("button",{className:"ts-button",key:e.hash,onClick:this.multiTransformExprs.bind(this,e.xml_ast)},e.human_readable_ast)),r.createElement("p",null,this.state.isFetching?"Fetching transformer...":""))}multiTransformExprs(e){var t=this;return Object(c.a)(l.a.mark((function a(){var r,n,s,o;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=t.props.ExprMap,t.setState({transformationFlag:!1,transformationErrorFlag:!1}),a.next=4,fetch("http://localhost:5000/spacer/apply_multi_transformation",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({exp_path:t.props.exp_path,selectedProgram:e,lemmas:t.props.ExprMap})});case 4:if(200!==(n=a.sent).status){a.next=16;break}return a.next=8,n.json();case 8:s=a.sent,o=s.response,console.log("tExprMap",o),Object.keys(o).forEach(e=>{r[e].raw=o[e].raw,r[e].readable=o[e].readable}),t.setState({transformationFlag:!0}),t.props.onUpdateLocalExprMap(r),a.next=17;break;case 16:t.setState({transformationErrorFlag:!0});case 17:case"end":return a.stop()}}),a)})))()}fetchProgs(){var e=this;return Object(c.a)(l.a.mark((function t(){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isFetching:!0}),t.next=3,fetch("http://localhost:5000/spacer/fetch_progs",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({exp_path:e.props.exp_path})});case 3:return a=t.sent,t.prev=4,t.next=7,a.json();case 7:r=t.sent,console.log(r),e.setState({isFetching:!1,progs:r.progs_list}),t.next=17;break;case 12:if(t.prev=12,t.t0=t.catch(4),"SatVisAssertionError"!==t.t0.name){t.next=16;break}throw t.t0;case 16:e.setState({progs:[]});case 17:case"end":return t.stop()}}),t,null,[[4,12]])})))()}}var z=a(59);class q extends r.Component{constructor(...e){super(...e),this.state={localExprMap:z.cloneDeep(this.props.ExprMap),input:"()",output:"",finalLemmas:this.getFinalInvariant()}}getFinalInvariant(){var e=new Set;for(var t in this.props.PobLemmasMap){var a,r=this.props.PobLemmasMap[t],n=Object(_.a)(r);try{for(n.s();!(a=n.n()).done;){var s=a.value;s instanceof Array&&"oo"===s[2]&&e.add(s)}}catch(o){n.e(o)}finally{n.f()}}return Array.from(e.values())}getLemmaHeader(e){var t=e[0];return this.state.localExprMap[t].raw.split("\n")[0]}reset(){this.setState({localExprMap:z.cloneDeep(this.props.ExprMap),finalLemmas:this.getFinalInvariant()})}sortByLevel(){var e=this.state.finalLemmas.sort((e,t)=>e[1]>t[1]?1:-1);this.setState({finalLemmas:e})}sortByHeader(){var e=this.state.finalLemmas.sort((e,t)=>this.getLemmaHeader(e)>this.getLemmaHeader(t)?1:-1);this.setState({finalLemmas:e})}renderFinalInvariant(){var e,t=[],a=Object(_.a)(this.state.finalLemmas);try{for(a.s();!(e=a.n()).done;){var n=e.value,s=n[0];if("oo"===n[2]){var o="",i="";this.state.localExprMap[s]&&(i=this.state.localExprMap[s].raw,o=this.props.ExprMap[s].raw),t.push(r.createElement("tr",null,r.createElement("td",null,r.createElement("h4",{key:"lemma-header-edited-"+s},"ExprID: ",n[0],", From: ",n[1]," to ",n[2])),r.createElement("td",null))),t.push(r.createElement("tr",null,r.createElement("td",null,r.createElement("pre",null,o)),r.createElement("td",null,r.createElement("pre",null,i))))}}}catch(l){a.e(l)}finally{a.f()}return r.createElement("table",null,t)}updateLocalExprMap(e){console.log("newExprMap",e),this.setState({localExprMap:e})}render(){var e=this.renderFinalInvariant();return r.createElement("section",{className:"star-modal-wrapper"},r.createElement("div",{className:"star-modal-menu"},r.createElement("button",{onClick:this.sortByHeader.bind(this)},"Order by header"),r.createElement("button",{onClick:this.sortByLevel.bind(this)},"Order by level"),r.createElement("button",{onClick:this.reset.bind(this)},"Reset")),r.createElement("div",{className:"star-modal-content"},r.createElement("div",{className:"lemma-table"},e),r.createElement("div",{className:"learned-ts"},r.createElement(H,{exp_path:this.props.exp_path,ExprMap:this.state.localExprMap,onUpdateLocalExprMap:this.updateLocalExprMap.bind(this)}))))}}a(163);class W extends r.Component{constructor(...e){super(...e),this.state={exp_path:this.props.exp_path,state:"waiting",trees:[],runCmd:"Run command:",messages_q:[""],nodeSelection:[],currentTime:0,layout:"PobVis",expr_layout:"SMT",PobLemmasMap:{},ExprMap:{},multiselect:!1,varNames:"",starModalIsOpen:!1,solvingCompleted:!1}}componentDidMount(){var e=this;return Object(c.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("iterative"!==e.props.mode){t.next=5;break}return t.next=3,e.runSpacer(e.props.problem,e.props.spacerUserOptions,e.props.mode);case 3:t.next=7;break;case 5:return t.next=7,e.poke();case 7:case"end":return t.stop()}}),t)})))()}poke(){var e=this;return Object(c.a)(l.a.mark((function t(){var a,r,n,s,o,i,c,p,d;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=["Poking Spacer..."],console.log("poking..."),e.setState({state:"waiting",messages_q:a}),t.next=5,fetch("http://localhost:5000/spacer/poke",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({exp_path:e.state.exp_path})});case 5:return r=t.sent,t.prev=6,t.next=9,r.json();case 9:for(n=t.sent,console.log("backend response:",n),a=["Get response from Backend."],s=n.nodes_list,o=0;o<Object.keys(s).length;o++)i=Object(w.d)(s[o].expr,n.var_names),c=Object(w.e)(i),s[o].expr={raw:i,readable:c,editedRaw:i,editedReadable:c};"loaded",p=b(s,n.var_names),d=0===Object.keys(n.expr_map).length?v(s,n.var_names):n.expr_map,e.setState({trees:[s],runCmd:n.run_cmd,messages_q:["Spacer is "+n.spacer_state],state:"loaded",PobLemmasMap:p,ExprMap:d,varNames:n.var_names,solvingCompleted:!("running"===n.spacer_state)}),console.log("state is set"),t.next=26;break;case 21:if(t.prev=21,t.t0=t.catch(6),"SatVisAssertionError"!==t.t0.name){t.next=25;break}throw t.t0;case 25:e.setState({state:"error",messages_q:["Error: ".concat(t.t0.message)],solvingCompleted:!1});case 26:case"end":return t.stop()}}),t,null,[[6,21]])})))()}saveExprMap(){var e=this;return Object(c.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:5000/spacer/save_exprs",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({exp_path:e.state.exp_path,expr_map:JSON.stringify(e.state.ExprMap)})});case 2:case"end":return t.stop()}}),t)})))()}runSpacer(e,t,a){var r=this;return Object(c.a)(l.a.mark((function n(){var s,o,i,c,p;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.setState({state:"waiting",messages_q:["Waiting for Spacer..."]}),n.next=3,fetch("http://localhost:5000/spacer/start_iterative",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:r.props.name,file:e,spacerUserOptions:t,varNames:r.props.varNames})});case 3:return s=n.sent,n.prev=4,n.next=7,s.json();case 7:o=n.sent,console.log("backend response:",o),"success"===o.status?(i="iterative"===a&&"running"===o.spacer_state?"loaded iterative":"loaded",c=["Hit Poke to update graph"],r.setState({exp_path:o.exp_name,messages_q:c,state:i})):(u("error"===o.status),u(void 0!==(p=o.message)&&null!==p),r.setState({state:"error",messages_q:[p]})),n.next=17;break;case 12:if(n.prev=12,n.t0=n.catch(4),"SatVisAssertionError"!==n.t0.name){n.next=16;break}throw n.t0;case 16:r.setState({state:"error",messages_q:["Error: ".concat(n.t0.message)]});case 17:case"end":return n.stop()}}),n,null,[[4,12]])})))()}updateNodeSelection(e){if(this.state.multiselect){var t=this.state.nodeSelection.slice(this.state.nodeSelection.length-1).concat(e);this.setState({nodeSelection:t})}else this.setState({nodeSelection:e})}updateCurrentTime(e){u(this.state.trees.length>0),this.setState({currentTime:e})}setPobVisLayout(){this.setState({layout:"PobVis"})}setSatVisLayout(){this.setState({layout:"SatVis"})}setMultiSelect(){this.state.multiselect?this.state.nodeSelection.length>0?this.setState({nodeSelection:[this.state.nodeSelection[this.state.nodeSelection.length-1]]}):this.setState({messages_q:["Hit Poke to update graph"]}):this.setState({messages_q:["Select Up to 2 nodes"]}),this.setState({multiselect:!this.state.multiselect})}setSMTLayout(){this.setState({expr_layout:"SMT"})}setJSONLayout(){this.setState({expr_layout:"JSON"})}openStarModal(){this.setState({starModalIsOpen:!0})}closeStarModal(){this.setState({starModalIsOpen:!1})}render(){var e,t,a=this.state,n=a.state,s=a.trees,o=a.runCmd,i=a.messages_q,l=a.nodeSelection,c=a.currentTime,p=a.layout,d=a.expr_layout,h=a.PobLemmasMap,m=a.ExprMap;if("loaded"===n){u(s.length>0),e=s[s.length-1];var _=Object.keys(e).length;t=r.createElement(k,{mode:this.props.mode,runCmd:o,tree:e,onNodeSelectionChange:this.updateNodeSelection.bind(this),nodeSelection:l,historyLength:_,currentTime:c,onCurrentTimeChange:this.updateCurrentTime.bind(this),layout:p,PobLemmasMap:h,solvingCompleted:this.state.solvingCompleted})}else t=r.createElement("main",null,r.createElement("section",{className:"slider-placeholder"}));return r.createElement("div",{className:"app"},r.createElement(y.a,{isOpen:this.state.starModalIsOpen,onRequestClose:this.closeStarModal.bind(this),overlayClassName:"editor-modal",contentLabel:"Example Modal"},r.createElement("h2",null,"Final invariant"),r.createElement("button",{onClick:this.closeStarModal.bind(this)},"Close"),r.createElement(q,{exp_path:this.props.exp_path,PobLemmasMap:this.state.PobLemmasMap,ExprMap:this.state.ExprMap})),t,r.createElement(V,{messages_q:i,mode:this.props.mode,tree:e,nodeSelection:l,onUpdateNodeSelection:this.updateNodeSelection.bind(this),onPoke:this.poke.bind(this),onOpenStarModal:this.openStarModal.bind(this),SatVisLayout:this.setSatVisLayout.bind(this),PobVisLayout:this.setPobVisLayout.bind(this),MultiSelectMode:this.setMultiSelect.bind(this),SMTLayout:this.setSMTLayout.bind(this),JSONLayout:this.setJSONLayout.bind(this),PobLemmasMap:h,ExprMap:m,layout:p,expr_layout:d,saveExprs:this.saveExprMap.bind(this),name:this.state.exp_path,solvingCompleted:this.state.solvingCompleted}))}}var K=W;a(164);class G extends r.Component{render(){return r.createElement("div",{id:"appWrapper"},r.createElement(K,{name:this.props.name,problem:this.props.problem,exp_path:this.props.exp_path,spacerUserOptions:this.props.spacerUserOptions,mode:this.props.mode,hideBracketsAssoc:this.props.hideBracketsAssoc,nonStrictForNegatedStrictInequalities:this.props.nonStrictForNegatedStrictInequalities,orientClauses:this.props.orientClauses,varNames:this.props.varNames}))}}a(165);var J=a(48);class X extends r.Component{constructor(e){super(e),this.state={isFetching:!1,exps:[]}}componentDidMount(){var e=this;return Object(c.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchExps();case 2:case"end":return t.stop()}}),t)})))()}render(){return r.createElement("div",null,this.state.exps.map((e,t)=>r.createElement("h5",{key:e.name},r.createElement(s.b,{to:{pathname:"/replay/".concat(e.name)}},e.name)," $",e.done)),r.createElement("p",null,this.state.isFetching?"Fetching experiments...":""))}fetchExps(){var e=this;return Object(c.a)(l.a.mark((function t(){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isFetching:!0}),t.next=3,fetch("http://localhost:5000/spacer/fetch_exps",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:""});case 3:return a=t.sent,t.prev=4,t.next=7,a.json();case 7:r=t.sent,console.log(r),e.setState({isFetching:!1,exps:r.exps_list}),t.next=17;break;case 12:if(t.prev=12,t.t0=t.catch(4),"SatVisAssertionError"!==t.t0.name){t.next=16;break}throw t.t0;case 16:e.setState({exps:[]});case 17:case"end":return t.stop()}}),t,null,[[4,12]])})))()}}var Z=a(113),$=a.n(Z);class Y extends r.Component{constructor(...e){super(...e),this.state={optionTypeHTML:r.createElement("div",null),optionType:"",optionValue:"",optionName:"",allOptions:[],showOptions:!0,options:[]}}componentDidMount(){var e=this;return Object(c.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchOptions();case 2:case"end":return t.stop()}}),t)})))()}fetchOptions(){var e=this;return Object(c.a)(l.a.mark((function t(){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:5000/spacer/fetch_options",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:""});case 2:return a=t.sent,t.prev=3,t.next=6,a.json();case 6:r=t.sent,console.log(r),e.setState({options:r}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})))()}updateSpacerOptions(){var e,t=this.state.allOptions,a="",r=Object(_.a)(t);try{for(r.s();!(e=r.n()).done;){var n=e.value;"flag"===n.type||n.dash?a+="-"+n.name+" ":a+=n.name+"="+n.value+" "}}catch(s){r.e(s)}finally{r.f()}this.props.changeSpacerUserOptions(a)}storeSpacerOptions(e){if(e.preventDefault(),e.target.reset(),""!==this.state.optionName&&("custom"===this.state.optionType||""!==this.state.optionValue)){var t=this.state.allOptions;t.push({name:this.state.optionName,value:this.state.optionValue,type:""===this.state.optionValue?"flag":this.state.optionType}),this.setState({allOptions:t}),this.setState({optionName:"",optionValue:"",optionType:""}),this.updateSpacerOptions()}}displaySpacerOptions(){return""!==this.props.spacerUserOptions?this.props.spacerUserOptions.trim().split(" "):[]}updateOptionValue(e){this.setState({optionValue:e.target.value})}getOptions(e,t){"bool"===t?this.setState({optionTypeHTML:r.createElement(r.Fragment,null,r.createElement("input",{type:"radio",name:e,value:"true",onClick:this.updateOptionValue.bind(this)}),"True",r.createElement("input",{type:"radio",name:e,value:"false",onClick:this.updateOptionValue.bind(this)}),"False",r.createElement("button",{className:"fake-button",type:"submit",value:"Submit"},"+"))}):this.setState({optionTypeHTML:r.createElement(r.Fragment,null,r.createElement("input",{type:"text",name:e,placeholder:t,defaultValue:this.state.optionValue,onChange:this.updateOptionValue.bind(this)}),r.createElement("button",{className:"fake-button",type:"submit",value:"Submit"},"+"))})}changeOptionType(e){var t=this.state.options.filter(t=>t.name===e.target.value),a="custom";t.length>0&&(a=t[0].type),this.setState({optionName:e.target.value,optionType:a}),this.getOptions(e.target.value,a)}removeOption(e,t){var a=this.state.allOptions,r=-1;void 0===t&&(e=e.replace("-",""),t="");for(var n=0;n<a.length;n++)if(a[n].name===e&&a[n].value===t){r=n;break}-1!==r&&(a.splice(r,1),this.updateSpacerOptions())}changeSpacerManualUserOptions(e){var t=e.target.value;this.props.changeSpacerUserOptions(t)}showHideOptions(){this.setState({showOptions:!this.state.showOptions})}render(){console.log(this.state);var e=this.displaySpacerOptions();return r.createElement("aside",null,r.createElement("fieldset",{className:"options-card"},r.createElement("h3",null,"Z3 Options"),r.createElement("ul",null,r.createElement("li",null,r.createElement("label",{htmlFor:"userOptions",className:"form-label"},"Additional Spacer options"),r.createElement("button",{onClick:this.showHideOptions.bind(this),className:"showHideButton",title:"showHide"},r.createElement("img",{className:"eyeImage",src:$.a,alt:"eye"})),0!==e.length&&this.state.showOptions&&e.map((e,t)=>{if(""!==e){var a=e.split("="),n=a[0],s=a[1],o=s?n+": "+s:n;return r.createElement("div",{className:"displaySpacerOption",key:t},r.createElement("span",null,o),r.createElement("button",{className:"fake-button",type:"button",onClick:this.removeOption.bind(this,n,s)},"x"))}return""}),r.createElement("form",{className:"tfradio",name:"tfradio",onSubmit:this.storeSpacerOptions.bind(this)},r.createElement("input",{type:"text",className:"optionsList",list:"spacerOptions",name:"spacerOptions",onChange:this.changeOptionType.bind(this)}),r.createElement("datalist",{id:"spacerOptions"},this.state.options&&0!==this.state.options.length&&this.state.options.map((e,t)=>r.createElement("option",{value:e.name,key:t}))),this.state.optionTypeHTML)),r.createElement("label",null,"Or using manual run parameters"),r.createElement("input",{type:"text",name:"manualRun",onChange:this.changeSpacerManualUserOptions.bind(this)}),r.createElement("li",null,r.createElement("label",{htmlFor:"varOptions",className:"form-label"},"Variable Designation"),r.createElement("p",null,"Enter a single space separated list of your chosen variables in the order they appear (var1 var2 var3 ..)"),r.createElement("input",{type:"text",name:"variables",onChange:this.props.onChangeVariables})))))}}var Q=Y,ee=a(37);class te extends r.Component{constructor(...e){super(...e),this.isChromeOrFirefox=!0,this.fileUpload=r.createRef(),this.monacoDiv=r.createRef(),this.monaco=null}componentDidMount(){this.isChromeOrFirefox&&(this.monaco=J.a.create(this.monacoDiv.current,{lineNumbers:"off",roundedSelection:!1,scrollBeyondLastLine:!1,scrollBeyondLastColumn:0,minimap:{enabled:!1},renderLineHighlight:"none",hideCursorInOverviewRuler:!0,links:!1,overviewRulerBorder:!1,automaticLayout:!0,lineDecorationsWidth:0,lineNumbersMinChars:0,wordWrap:"wordWrapColumn"}),this.monaco.setValue(this.props.problem),this.monaco.getModel().onDidChangeContent(()=>{this.props.onChangeProblem(this.monaco.getModel().getValue())}))}componentDidUpdate(e){u(this.isChromeOrFirefox),this.props.problem!==e.problem&&this.monaco.setValue(this.props.problem)}render(){return this.isChromeOrFirefox?r.createElement("section",{className:"component-menu"},r.createElement("h1",null,"Spacer Visualization"),r.createElement("section",{className:"editor"},r.createElement("div",{className:"editor-spacer"},r.createElement("main",null,r.createElement("div",{className:"headline-wrapper"},r.createElement("h2",null,"Input"),r.createElement("small",{className:"file-name"},this.props.problemName),r.createElement("button",{title:"Pick a new file",onClick:this.chooseFile.bind(this)},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon big"},r.createElement("use",{xlinkHref:"".concat(ee,"#graph-upload")})))),r.createElement("input",{ref:this.fileUpload,type:"file",onChange:this.uploadEncoding.bind(this)}),r.createElement("div",{ref:this.monacoDiv,className:"monaco"})),r.createElement("aside",null,r.createElement(Q,{spacerUserOptions:this.props.spacerUserOptions,onChangeVariables:this.onChangeVariables.bind(this),changeSpacerUserOptions:this.props.onChangeSpacerUserOptions.bind(this)}),r.createElement(X,null)))),r.createElement("section",{className:"run-menu"},r.createElement(s.b,{to:"/iterative/",className:"fake-button"},"Hit and Run"))):r.createElement("section",{className:"unsupported-message"},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon"},r.createElement("use",{xlinkHref:"".concat(ee,"#alert-triangle")})),r.createElement("span",null,"Your current browser is not supported. Please use Chrome or Firefox!"))}chooseFile(){this.fileUpload.current&&this.fileUpload.current.click()}onChangeVariables(e){this.props.onChangeVariables(e.target.value)}uploadEncoding(e){if(null!==e.target.files&&e.target.files.length>0){var t=e.target.files[0],a=new FileReader;a.onloadend=()=>{var e=a.result?a.result:"";this.props.onChangeProblem(e),this.props.onChangeProblemName(t.name)},a.readAsText(t)}}}a(236);var ae=a(4),re=a(117);class ne extends r.Component{constructor(e){super(e),this.totalTime=void 0,this.palette=void 0,this.totalTime=-1,this.palette=["#023FA5","#7D87B9","#BEC1D4","#D6BCC0","#BB7784","#8E063B","#4A6FE3","#8595E1","#B5BBE3","#E6AFB9","#E07B91","#D33F6A","#11C638","#8DD593","#C6DEC7","#EAD3C6","#F0B98D","#EF9708","#0FCFC0","#9CDED6","#D5EAE7","#F3E1EB","#F6C4E1","#F79CD4"]}componentDidMount(){this.createSunburst()}componentDidUpdate(e,t,a){this.createSunburst()}prepareData(){for(var e=[],t=Object.keys(this.props.data),a=0;a<t.length;a++)e.push({name:t[a],size:this.props.data[t[a]],children:[]});return e}getData(e){for(var t={},a="zzzzzzz",r=0;r<e.length;r++){var n=e[r].name,s=e[r].size;n.includes(a)?t[a].children.push({name:n,size:s,children:[]}):(t[n]={name:n,size:s,children:[]},a=n)}for(var o=Object.keys(t),i=0;i<o.length;i++)t[o[i]].children&&(t[o[i]].children=this.getData(t[o[i]].children));return Object.values(t)}createSunburst(){""===this.props.type&&ae.k(".sunburst-viz").remove(),""!==this.props.type&&ae.k("."+this.props.className+" .sunburst-viz").remove();var e=ae.i().domain(Object.keys(this.props.data)).range(this.palette),t=this.getData(this.prepareData()),a=Object(re.a)();a.data(t[0])(document.getElementById(this.props.className)).width(this.props.width).height(this.props.height).color(t=>e(t.name)).label(e=>e.name).size("size").tooltipTitle(e=>e.name),""!==this.props.type&&a.showLabels(!1)}render(){return this.totalTime=this.props.data.time,r.createElement("div",{className:this.props.className,id:this.props.className},""===this.props.type&&r.createElement("h2",null,"Total Time: ",this.totalTime),""!==this.props.type&&r.createElement("p",null,this.props.index))}}var se=ne;function oe(e){for(var t=e.split("_"),a=0;a<t.length;a++)t[a]=t[a][0].toUpperCase()+t[a].substring(1);return t.join(" ")}class ie extends r.Component{componentDidMount(){console.log(this.props.data)}componentDidUpdate(e,t,a){console.log(this.props.data)}filterTimeData(){return Object.keys(this.props.data).filter((function(e){return e.includes("time")})).reduce((e,t)=>(e[t]=this.props.data[t],e),{})}render(){var e=this.filterTimeData();return r.createElement("div",{className:"overview"},r.createElement("div",{className:"details"},r.createElement("h1",null,this.props.data.index),["result","depth","memory","max_memory","SPACER_num_invariants","SPACER_num_lemmas","SPACER_num_propagations","SPACER_num_active_lemmas"].map((e,t)=>r.createElement("p",{className:"data-details",key:t},oe(e),": ",this.props.data[e]))),r.createElement(se,{data:e,height:600,width:600,className:"time",type:"",index:""}))}}var le=ie;class ce extends r.Component{componentDidMount(){this.createResultsOverview()}componentDidUpdate(e,t,a){this.createResultsOverview()}createResultsOverview(){ae.k(".results-overview svg").remove();var e=this.props.data,t=ae.d(e,(function(e){return e.result})).keys(),a=ae.i().domain(t).range(ae.j),r=ae.d(e,(function(e){return e.index})).keys(),n=ae.g().domain(r).range([this.props.config.margin.left,this.props.config.width-this.props.config.margin.right]),s=function(e){return n(function(e){return e.index}(e))},o=ae.a(n).tickValues([]),i=function(e){return e.SPACER_num_invariants},l=ae.h().domain([ae.f(e,i),ae.e(e,i)]).range([this.props.config.graphHeight-this.props.config.margin.top,this.props.config.margin.bottom]),c=function(e){return l(i(e))},p=ae.b(l),d=ae.k(".results-overview").append("svg").attr("width",this.props.config.width).attr("height",this.props.config.height);d.append("text").attr("x",this.props.config.width/2).attr("y",this.props.config.margin.top).attr("text-anchor","middle").style("font-size",this.props.config.font.title).style("text-decoration","underline").text("Index x Result x Num of Invariants"),d.append("g").attr("class","x-axis").attr("transform","translate(0,"+(this.props.config.graphHeight-this.props.config.margin.top)+")").call(o),d.append("g").attr("class","y-axis").attr("transform","translate("+this.props.config.margin.left+",0)").style("font-size",this.props.config.font.axis).call(p);var h=d.append("g");h.selectAll(".dot").data(e).enter().append("circle").attr("r",10).attr("cx",(function(e){return s(e)+n.bandwidth()/2})).attr("cy",c).on("mouseenter",(function(e){ae.k(".overview-tooltip").append("text").text(e.index)})).on("mouseout",(function(e){ae.k(".overview-tooltip").select("text").remove()})).on("click",this.props.selectBenchmark).style("fill",(function(e){return a(e.result)})),h.selectAll(".result-text").data(e).enter().append("text").attr("class","label").style("font-size",this.props.config.font.label).attr("x",(function(e){return s(e)+n.bandwidth()/4})).attr("y",(function(e){return c(e)-25})).attr("dy",".75em").text((function(e){return e.SPACER_num_invariants})),h.selectAll("legendDots").data(t).enter().append("circle").attr("cx",function(e,t){return this.props.config.margin.left+100*t}.bind(this)).attr("cy",this.props.config.graphHeight+15).attr("r",5).style("fill",(function(e){return a(e)})),h.selectAll("legendText").data(t).enter().append("text").attr("x",function(e,t){return this.props.config.margin.left+10+100*t}.bind(this)).attr("y",this.props.config.graphHeight+20).text((function(e){return e}))}render(){return r.createElement("div",{className:"results-overview"})}}var pe=ce,de=a(67),he=a.n(de);class me extends r.Component{render(){return r.createElement("div",null,this.props.data.map((e,t)=>r.createElement(se,{key:t,data:e,height:200,width:200,className:"timezoom"+t,type:"timezoom",index:e.index})))}}var ue=me;class _e extends r.Component{componentDidMount(){this.createGraph()}componentDidUpdate(e,t,a){this.createGraph()}createGraph(){if(ae.k("."+this.props.className+" svg").remove(),0!==this.props.data.length){var e=this.props.data,t=ae.d(e,(function(e){return e.index})).keys(),a=ae.g().domain(t).range([this.props.config.margin.left,this.props.config.width-this.props.config.margin.right]),r=function(e){return a(function(e){return e.index}(e))},n=ae.a(a).tickValues([]),s=function(e){return e[this.props.yValue]}.bind(this),o=ae.h().domain([ae.f(e,s),ae.e(e,s)]).range([this.props.config.graphHeight-this.props.config.margin.top,this.props.config.margin.bottom]),i=function(e){return o(s(e))},l=ae.b(o),c=ae.k("."+this.props.className).append("svg").attr("width",this.props.config.width).attr("height",this.props.config.height).on("click",this.props.updateZoomView);c.append("text").attr("x",this.props.config.width/2).attr("y",this.props.config.margin.top).attr("text-anchor","middle").style("font-size",this.props.config.font.title).style("text-decoration","underline").text("Index x "+oe(this.props.yValue)),c.append("g").attr("class","x-axis").attr("transform","translate(0,"+(this.props.config.graphHeight-this.props.config.margin.top)+")").call(n),c.append("g").attr("class","y-axis").attr("transform","translate("+this.props.config.margin.left+",0)").style("font-size",this.props.config.font.axis).call(l);var p=c.append("g");p.selectAll(".bar").data(e).enter().append("rect").attr("class","bar").attr("x",r).attr("y",i).attr("width",a.bandwidth()-1).attr("height",function(e){return this.props.config.graphHeight-this.props.config.margin.top-o(e[this.props.yValue])}.bind(this)),p.selectAll("."+this.props.classText).data(e).enter().append("text").style("font-size",this.props.config.font.label).attr("class","label").attr("x",(function(e){return r(e)})).attr("y",(function(e){return i(e)-15})).attr("dy",".75em").text(function(e){return e[this.props.yValue]}.bind(this))}}render(){return r.createElement("div",{className:this.props.className})}}var fe=_e;class ge extends r.Component{constructor(e){super(e),this.overviewMetrics=void 0,this.overviewMetrics=["depth","memory","time","result"],this.state={data:[],selectedBenchmark:"",graphMin:0,graphMax:30,customMode:!1,customData:{depth:[],result:[],memory:[],time:[]},zoomMode:"",dashboardConfig:{height:450,width:1600,graphHeight:400,margin:{top:20,right:20,bottom:50,left:60},font:{title:"20px",axis:"20px",label:"14px"},barNum:10}}}componentDidMount(){this.loadData(),document.addEventListener("keydown",this.handleGraphTranslationKeyboard.bind(this))}loadData(){var e=this.props.rawData,t=ae.c(e,(function(e){return e.SPACER_cluster_out_of_gas=+e.SPACER_cluster_out_of_gas,e.SPACER_expand_pob_undef=+e.SPACER_expand_pob_undef,e.SPACER_inductive_level=+e.SPACER_inductive_level,e.SPACER_max_cluster_size=+e.SPACER_max_cluster_size,e.SPACER_max_cvx_reduced_dim=+e.SPACER_max_cvx_reduced_dim,e.depth=+e.depth,e.SPACER_max_query_lvl=+e.SPACER_max_query_lvl,e.SPACER_need_sage=+e.SPACER_need_sage,e.SPACER_num_abstractions=+e.SPACER_num_abstractions,e.SPACER_num_abstractions_failed=+e.SPACER_num_abstractions_failed,e.SPACER_num_abstractions_success=+e.SPACER_num_abstractions_success,e.SPACER_num_active_lemmas=+e.SPACER_num_active_lemmas,e.SPACER_num_cant_abstract=+e.SPACER_num_cant_abstract,e.SPACER_num_ctp_blocked=+e.SPACER_num_ctp_blocked,e.SPACER_num_dim_reduction_success=+e.SPACER_num_dim_reduction_success,e.SPACER_num_invariants=+e.SPACER_num_invariants,e.SPACER_num_is_invariant=+e.SPACER_num_is_invariant,e.SPACER_num_lemma_jumped=+e.SPACER_num_lemma_jumped,e.SPACER_num_lemmas=+e.SPACER_num_lemmas,e.SPACER_num_mbp_failed=+e.SPACER_num_mbp_failed,e.SPACER_num_merge_gen=+e.SPACER_num_merge_gen,e.SPACER_num_merge_gen_failed=+e.SPACER_num_merge_gen_failed,e.SPACER_num_merge_gen_success=+e.SPACER_num_merge_gen_success,e.SPACER_num_no_over_approximate=+e.SPACER_num_no_over_approximate,e.SPACER_num_non_lin=+e.SPACER_num_non_lin,e.SPACER_num_pobs=+e.SPACER_num_pobs,e.SPACER_num_propagations=+e.SPACER_num_propagations,e.SPACER_num_queries=+e.SPACER_num_queries,e.SPACER_num_reach_queries=+e.SPACER_num_reach_queries,e.SPACER_num_refinements=+e.SPACER_num_refinements,e.SPACER_num_reuse_reach_facts=+e.SPACER_num_reuse_reach_facts,e.SPACER_num_sync_cvx_cls=+e.SPACER_num_sync_cvx_cls,e.SPACER_num_under_approximations=+e.SPACER_num_under_approximations,e.SPACER_pob_out_of_gas=+e.SPACER_pob_out_of_gas,e.SPACER_wide_attmpts=+e.SPACER_wide_attmpts,e.SPACER_wide_success=+e.SPACER_wide_success,e.max_memory=+e.max_memory,e.memory=+e.memory,e.time=+e.time,e.time_iuc_solver_get_iuc=+e.time_iuc_solver_get_iuc,e.time_iuc_solver_get_iuc_hyp_reduce1=+e.time_iuc_solver_get_iuc_hyp_reduce1,e.time_iuc_solver_get_iuc_hyp_reduce2=+e.time_iuc_solver_get_iuc_hyp_reduce2,e.time_iuc_solver_get_iuc_learn_core=+e.time_iuc_solver_get_iuc_learn_core,e.time_pool_solver_proof=+e.time_pool_solver_proof,e.time_pool_solver_smt_total=+e.time_pool_solver_smt_total,e.time_pool_solver_smt_total_sat=+e.time_pool_solver_smt_total_sat,e.time_pool_solver_smt_total_undef=+e.time_pool_solver_smt_total_undef,e.time_spacer_ctp=+e.time_spacer_ctp,e.time_spacer_init_rules=+e.time_spacer_init_rules,e.time_spacer_init_rules_pt_init=+e.time_spacer_init_rules_pt_init,e.time_spacer_mbp=+e.time_spacer_mbp,e.time_spacer_solve=+e.time_spacer_solve,e.time_spacer_solve_propagate=+e.time_spacer_solve_propagate,e.time_spacer_solve_pt_must_reachable=+e.time_spacer_solve_pt_must_reachable,e.time_spacer_solve_reach=+e.time_spacer_solve_reach,e.time_spacer_solve_reach_children=+e.time_spacer_solve_reach_children,e.time_spacer_solve_reach_cluster=+e.time_spacer_solve_reach_cluster,e.time_spacer_solve_reach_gen_bool_ind=+e.time_spacer_solve_reach_gen_bool_ind,e.time_spacer_solve_reach_gen_merge=+e.time_spacer_solve_reach_gen_merge,e.time_spacer_solve_reach_gen_merge_cvx_cls=+e.time_spacer_solve_reach_gen_merge_cvx_cls,e.time_spacer_solve_reach_gen_wide=+e.time_spacer_solve_reach_gen_wide,e.time_spacer_solve_reach_is_reach=+e.time_spacer_solve_reach_is_reach,e}));this.setState({data:t})}handleSidebarClick(e){var t=e.target;this.setState({selectedBenchmark:t.innerText})}handleSidebarClickDot(e){this.setState({selectedBenchmark:e.index})}handleHomeClick(){this.setState({selectedBenchmark:"",customMode:!1,customData:{depth:[],time:[],memory:[],result:[]},zoomMode:"",graphMin:0,graphMax:30})}handleClearClick(){this.setState({customData:{depth:[],time:[],memory:[],result:[]}})}moveGraphLeft(){this.state.graphMin>0&&this.setState({graphMin:this.state.graphMin-1,graphMax:this.state.graphMax-1})}moveGraphRight(){this.state.graphMax<this.state.data.length-1&&this.setState({graphMin:this.state.graphMin+1,graphMax:this.state.graphMax+1})}moveGraphUp(){this.state.graphMin-10>=0&&this.setState({graphMin:this.state.graphMin-10,graphMax:this.state.graphMax-10})}moveGraphDown(){this.state.graphMax+10<this.state.data.length&&this.setState({graphMin:this.state.graphMin+10,graphMax:this.state.graphMax+10})}handleGraphTranslationClick(e){e.preventDefault();var t=e.target;"left-arrow"===t.alt?this.moveGraphLeft():"right-arrow"===t.alt&&this.moveGraphRight()}handleGraphTranslationKeyboard(e){e.preventDefault(),"ArrowLeft"===e.key?this.moveGraphLeft():"ArrowRight"===e.key?this.moveGraphRight():"ArrowDown"===e.key?this.moveGraphDown():"ArrowUp"===e.key&&this.moveGraphUp()}handleCustomClick(){this.setState({customMode:!this.state.customMode}),this.state.customMode&&this.setState({customData:{depth:[],time:[],memory:[],result:[]}})}filterDictionary(e,t=!1,a=""){var r=this.state.data.slice(this.state.graphMin,this.state.graphMax);t&&(r=this.state.data.filter((function(e){return e.index===a})));for(var n=[],s=0;s<r.length;s++){n.push({});for(var o=0;o<e.length;o++)n[s][e[o]]=r[s][e[o]]}return n}addToCustomData(e){for(var t=e.target,a=0;a<this.overviewMetrics.length;a++){var r=this.overviewMetrics[a],n=[r].concat(["index"]);"result"===r&&n.push("SPACER_num_invariants");var s=this.state.customData[r].concat(this.filterDictionary(n,!0,t.innerHTML));s.length>this.state.graphMax-this.state.graphMin&&s.splice(0,1);var o=this.state.customData;o[r]=s,this.setState({customData:o})}}setZoomView(e){this.setState({zoomMode:e,graphMin:0,graphMax:49})}render(){var e,t=ae.d(this.state.data,(function(e){return e.index})).keys(),a=this.state.selectedBenchmark;if("time"===this.state.zoomMode){var n=Object.keys(this.state.data[0]).filter(e=>e.includes("time"));n.push("index"),e=this.filterDictionary(n)}return r.createElement("div",{className:"page"},r.createElement("div",{className:"sidebar",id:"sidebar"},t.map((e,t)=>this.state.customMode?this.state.customData.depth.filter(t=>t.index===e).length>0?r.createElement("li",{className:"selected",key:t,onClick:this.addToCustomData.bind(this)},e):r.createElement("li",{key:t,onClick:this.addToCustomData.bind(this)},e):a?e===a?r.createElement("li",{className:"selected",key:t,onClick:this.handleSidebarClick.bind(this)},e):r.createElement("li",{key:t,onClick:this.handleSidebarClick.bind(this)},e):t>=this.state.graphMin&&t<this.state.graphMax?r.createElement("li",{className:"selected",key:t,onClick:this.handleSidebarClick.bind(this)},e):r.createElement("li",{key:t,onClick:this.handleSidebarClick.bind(this)},e))),r.createElement("div",{className:"visual"},""!==this.state.selectedBenchmark&&r.createElement(le,{data:this.state.data.filter((function(e){return e.index===a}))[0]}),""===this.state.selectedBenchmark&&""===this.state.zoomMode&&r.createElement("div",{className:"dashboard"},this.overviewMetrics.map((e,t)=>{var a;if(this.state.customMode){if(a=this.state.customData[e],"result"===e)return r.createElement(pe,{key:t,data:a,config:this.state.dashboardConfig,selectBenchmark:this.handleSidebarClickDot.bind(this)})}else{if("result"===e)return a=this.filterDictionary([e].concat(["index","SPACER_num_invariants"])),r.createElement(pe,{key:t,data:a,config:this.state.dashboardConfig,selectBenchmark:this.handleSidebarClickDot.bind(this)});a=this.filterDictionary(["index"].concat([e]))}return r.createElement(fe,{key:t,data:a,config:this.state.dashboardConfig,className:e+"-overview",classText:e+"-text",yValue:e,updateZoomView:this.setZoomView.bind(this,"time"===e?"time":"")})}),r.createElement("img",{className:"left-arrow",src:he.a,alt:"left-arrow",onClick:this.handleGraphTranslationClick.bind(this)}),r.createElement("img",{className:"right-arrow",src:he.a,alt:"right-arrow",onClick:this.handleGraphTranslationClick.bind(this)})),"time"===this.state.zoomMode&&r.createElement(ue,{data:e})),r.createElement("button",{className:"home-button",onClick:this.handleHomeClick.bind(this)},"Home"),r.createElement("button",{className:"custom-button",onClick:this.handleCustomClick.bind(this)},"Custom"),this.state.customMode&&r.createElement("button",{className:"clear-button",onClick:this.handleClearClick.bind(this)},"Clear"))}}var be=ge;class ve extends r.Component{constructor(e){super(e),this.fileReader=void 0,this.state={rawData:[],file:null}}handleFileRead(e){var t=this.fileReader.result.toString(),a={name:e.name,id:Date.now().toString(),content:t};this.props.updateData(a)}handleFileChosen(e){e.preventDefault();var t=this.state.file;this.fileReader=new FileReader,this.fileReader.onloadend=this.handleFileRead.bind(this,t),this.fileReader.readAsText(t)}updateFile(e){this.setState({file:e.target.files[0]})}render(){return r.createElement("div",{className:"dashboard-menu"},r.createElement("h1",null,"Spacer Dashboard"),r.createElement("form",null,r.createElement("input",{type:"file",accept:".csv",onChange:this.updateFile.bind(this)}),r.createElement("button",{type:"submit",className:"fake-button",onClick:this.handleFileChosen.bind(this)},"Upload")),r.createElement("div",{className:"file-list"},r.createElement("h2",null,"Uploaded Files"),this.props.rawData.length>0&&this.props.rawData.map((e,t)=>r.createElement("li",{key:t},r.createElement("span",null,e.name),r.createElement("a",{href:"#/dashboard/"+e.id},"Analysis")))))}}var Ee=ve,xe=a(37);class Se extends r.Component{constructor(...e){super(...e),this.isChromeOrFirefox=!0,this.monacoDiv=r.createRef(),this.monaco=null,this.state={input:"()",output:""}}componentDidMount(){this.isChromeOrFirefox&&(this.monaco=J.a.create(this.monacoDiv.current,{lineNumbers:"off",roundedSelection:!1,scrollBeyondLastLine:!1,scrollBeyondLastColumn:0,minimap:{enabled:!1},renderLineHighlight:"none",hideCursorInOverviewRuler:!0,links:!1,overviewRulerBorder:!1,automaticLayout:!1,lineDecorationsWidth:0,lineNumbersMinChars:0,wordWrap:"wordWrapColumn"}),this.monaco.setValue(this.props.input))}openEditor(){console.log("click Apply");var e=this.monaco.getModel().getValueInRange(this.monaco.getSelection());console.log(e),this.setState({input:e})}getFormulas(e){return e.split(/\n\s*\n/)}blast(e){var t,a=this.getFormulas((null===(t=this.monaco)||void 0===t?void 0:t.getModel()).getValue()),r=new D.b;console.log(a),console.log(e),console.log("pew pew !");var n,s="",o=Object(_.a)(a);try{for(o.s();!(n=o.n()).done;){var i=n.value,l=new D.a(i),c=r.runStack(l,e);s+=c.toString(-1,c.nodeList[0])+"\n\n"}}catch(p){o.e(p)}finally{o.f()}this.setState({output:s})}render(){return this.isChromeOrFirefox?r.createElement("section",{className:"component-menu"},r.createElement("section",{className:"editor"},r.createElement("div",{id:"editor-wrapper"},r.createElement("h2",null,"Original"),r.createElement("div",{ref:this.monacoDiv,className:"monaco",id:"input"}),r.createElement("button",{onClick:this.openEditor.bind(this)},"Open Editor"),r.createElement("h2",null,"Transformed"),r.createElement("textarea",{ref:"output",id:"output",rows:30,value:this.state.output,readOnly:!0})),r.createElement(L,{name:this.props.name,input:this.state.input,onBlast:this.blast.bind(this),isModal:!1}))):r.createElement("section",{className:"unsupported-message"},r.createElement("svg",{viewBox:"0 0 24 24",className:"icon"},r.createElement("use",{xlinkHref:"".concat(xe,"#alert-triangle")})),r.createElement("span",null,"Your current browser is not supported. Please use Chrome or Firefox!"))}}class ye extends r.Component{constructor(...e){super(...e),this.state={problem:"",problemName:"",spacerUserOptions:"",hideBracketsAssoc:!0,nonStrictForNegatedStrictInequalities:!0,orientClauses:!0,varNames:"",rawData:[]}}render(){return r.createElement(s.a,null,r.createElement(o.a,{path:"/",exact:!0,render:()=>r.createElement(te,{problem:this.state.problem,problemName:this.state.problemName,spacerUserOptions:this.state.spacerUserOptions,hideBracketsAssoc:this.state.hideBracketsAssoc,nonStrictForNegatedStrictInequalities:this.state.nonStrictForNegatedStrictInequalities,orientClauses:this.state.orientClauses,onChangeProblem:this.changeProblem.bind(this),onChangeProblemName:this.changeProblemName.bind(this),onChangeSpacerUserOptions:this.changeSpacerUserOptions.bind(this),onChangeHideBracketsAssoc:this.changeHideBracketsAssoc.bind(this),onChangeNonStrictForNegatedStrictInequalities:this.changeNonStrictForNegatedStrictInequalities.bind(this),onChangeOrientClauses:this.changeOrientClauses.bind(this),onChangeVariables:this.changeVariables.bind(this)})}),r.createElement(o.a,{path:"/replay/:exp_id",render:({match:e})=>this.appComponent("replay",e.params.exp_id)}),r.createElement(o.a,{path:"/iterative/",render:()=>this.appComponent("iterative","")}),r.createElement(o.a,{exact:!0,path:"/dashboard/",render:()=>r.createElement(Ee,{rawData:this.state.rawData,updateData:this.changeRawData.bind(this)})}),r.createElement(o.a,{path:"/dashboard/:fileId",render:({match:e})=>this.displayVisualization(e.params.fileId)}),r.createElement(o.a,{exact:!0,path:"/editor/",render:()=>r.createElement(Se,{name:"",input:""})}))}appComponent(e,t){var a="".concat(this.state.spacerUserOptions);return r.createElement(G,{name:this.state.problemName,exp_path:t,mode:e,problem:this.state.problem,spacerUserOptions:a,hideBracketsAssoc:this.state.hideBracketsAssoc,nonStrictForNegatedStrictInequalities:this.state.nonStrictForNegatedStrictInequalities,orientClauses:this.state.orientClauses,varNames:this.state.varNames})}displayVisualization(e){var t=this.state.rawData.filter(t=>t.id===e)[0];if(t)return r.createElement(be,{rawData:t.content})}changeProblem(e){this.setState({problem:e})}changeProblemName(e){this.setState({problemName:e})}changeSpacerUserOptions(e){this.setState({spacerUserOptions:e})}changeHideBracketsAssoc(e){this.setState({hideBracketsAssoc:e})}changeNonStrictForNegatedStrictInequalities(e){this.setState({nonStrictForNegatedStrictInequalities:e})}changeOrientClauses(e){this.setState({orientClauses:e})}changeVariables(e){this.setState({varNames:e})}changeRawData(e){var t=this.state.rawData.concat([e]);this.setState({rawData:t})}}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.render(r.createElement(ye,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})},37:function(e,t,a){e.exports=a.p+"static/media/all.496082da.svg"},57:function(e,t,a){},58:function(e,t,a){},62:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));class r extends Error{constructor(e){super(e),this.name="SatVisAssertionError"}}function n(e,t=""){if(!e)throw new r("Assertion failed: "+(t||""))}},63:function(e,t,a){"use strict";function r(e){console.log("**"+e+"//");var t=0,a=0,r=0,n=()=>{for(;e[t].match(/\r\n|\r|\n/);)a++,t++;for(;e[t].match(/\s/);)t++,r++;if("("!==e[t])throw new Error("Input is not valid: unexpected '".concat(e[t],"' at the beginning"));t++;for(var s=[],o="",i=a,l=r;;){r++;var c=e[t++];if(!c){if(o)throw new Error("Input is not valid: unexpected '".concat(o,"' at the end"));break}if(")"===c){o&&s.push({token:o,startLine:i,startOffset:l,endLine:a,endOffset:r});break}if("\\"===c)o+=c+=e[t++];else if(c.match(/\r\n|\r|\n/))o&&(s.push({token:o,startLine:i,startOffset:l,endLine:a,endOffset:r}),o=""),a++,r=0;else if(c.match(/\s/))o&&s.push({token:o,startLine:i,startOffset:l,endLine:a,endOffset:r}),o="",i=a,l=r;else if("("===c)t--,r--,s.push(n());else if('"'===c)for(o+=c;(c=e[t++])&&("\\"===c&&'"'===e[t]&&(c+=e[t++]),o+=c,'"'!==c););else o+=c}return s};return n()}function n(e){return"startOffset"in e}a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return n}))},67:function(e,t,a){e.exports=a.p+"static/media/angle-arrow-down.412f3289.svg"}},[[139,2,3]]]);
//# sourceMappingURL=main.d5b20c2c.chunk.js.map